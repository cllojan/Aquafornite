(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[584],{2239:(e,s,t)=>{"use strict";t.d(s,{J:()=>c,UserProvider:()=>d});var l=t(5155),n=t(1026),r=t(2115);let a=e=>fetch(e).then(e=>e.json()),i=(0,r.createContext)(null);function d(e){let{children:s}=e,{data:t,error:r,isLoading:d}=(0,n.Ay)("/api/profile",a);return(0,l.jsx)(i.Provider,{value:{user:t||null,isLoading:d},children:s})}function c(){let e=(0,r.useContext)(i);if(!e)throw Error("Error: useUser debe ser usado dentro de UserProvider");return e}},2952:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(5155),n=t(8281);function r(e){let{data:s}=e;return(0,l.jsx)("div",{className:"flex p-4 @container",children:(0,l.jsxs)("div",{className:"flex w-full flex-col gap-4 items-center",children:[(0,l.jsxs)("div",{className:"flex gap-4 flex-col items-center",children:[(0,l.jsx)("div",{className:"avatar",children:(0,l.jsx)("div",{className:"ring-primary ring-offset-base-100 w-24 rounded-full ring-2 ring-offset-2",children:(0,l.jsx)("img",{src:null==s?void 0:s.imageUrl})})}),(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center justify-center",children:[(0,l.jsx)("p",{className:"text-[22px] font-bold leading-tight tracking-[-0.015em] text-center text-white",children:null==s?void 0:s.fullName}),(0,l.jsx)("p",{className:"text-base font-normal leading-normal text-center text-white",children:null==s?void 0:s.primaryEmailAddress.emailAddress})]})]}),(0,l.jsx)("button",{className:"flex min-w-[84px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-[#e7edf3] text-[#0e141b] text-sm font-bold leading-normal tracking-[0.015em] w-full max-w-[480px] @[480px]:w-auto",children:(0,l.jsx)("span",{className:"truncate",children:"Edit Profile"})})]})})}var a=t(2239),i=t(2262),d=t(4662),c=t(2115);function o(){let{user:e,isLoading:s}=(0,a.J)(),[t,o]=(0,c.useState)([]);return(0,c.useEffect)(()=>{s&&e&&(async()=>{let s=await fetch("/api/history?user_id=".concat(null==e?void 0:e.id));o((await s.json()).history)})()},[s,e]),console.log(t),(0,l.jsxs)("div",{className:"min-h-screen",children:[(0,l.jsx)(n.default,{}),(0,l.jsx)("div",{className:"gap-1 h-fullpx-6 flex flex-1 justify-center py-5",children:(0,l.jsxs)("div",{className:"layout-content-container flex flex-col max-w-[920px] flex-1",children:[(0,l.jsx)(r,{data:e}),(0,l.jsx)("h2",{className:"text-white text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5",children:"Historial de compra"}),(0,l.jsx)("div",{className:"overflow-x-auto h-full",children:(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"ID"}),(0,l.jsx)("th",{children:"Skins"}),(0,l.jsx)("th",{children:"Total"}),(0,l.jsx)("th",{children:"Fecha"}),(0,l.jsx)("th",{children:"Acciones"})]})}),(0,l.jsx)("tbody",{children:null==t?void 0:t.map((e,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:s+1}),(0,l.jsx)("td",{children:(0,l.jsxs)("details",{className:"dropdown bg-transparent",children:[(0,l.jsxs)("summary",{className:"btn m-1 bg-transparent border-none",children:["Skins compradas ",(0,l.jsx)(i.In,{icon:"solar:alt-arrow-down-outline",className:"mt-1",width:"20",height:"20"})]}),(0,l.jsx)("ul",{className:"menu dropdown-content bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm",children:e.items.map((e,s)=>(0,l.jsxs)("li",{className:"flex flex-row nowrap",children:[e.name," ",(0,l.jsxs)("span",{className:"badge badge-soft badge-info",children:[e.price,"$"]})]},s))})]})}),(0,l.jsx)("td",{children:(0,l.jsxs)("span",{className:"badge badge-outline badge-success",children:[e.total,"$"]})}),(0,l.jsx)("td",{children:(0,d.GP)(new Date(e.created_at),"yyyy-MM-dd / HH:MM")}),(0,l.jsx)("th",{children:(0,l.jsx)("button",{className:"btn btn-ghost btn-xs disable",children:"View"})})]},s))}),(0,l.jsx)("tfoot",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"ID"}),(0,l.jsx)("th",{children:"Skins"}),(0,l.jsx)("th",{children:"Total"}),(0,l.jsx)("th",{children:"Fecha"}),(0,l.jsx)("th",{children:"Acciones"})]})})]})})]})})]})}},6681:(e,s,t)=>{Promise.resolve().then(t.bind(t,2952))}},e=>{e.O(0,[783,11,26,662,281,441,255,358],()=>e(e.s=6681)),_N_E=e.O()}]);