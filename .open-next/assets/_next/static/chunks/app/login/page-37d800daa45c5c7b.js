(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{17:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var a=r(5155),t=r(2115),i=r(63);function l(){let e=(0,i.useRouter)(),[s,r]=(0,t.useState)(""),[l,d]=(0,t.useState)(""),[o,n]=(0,t.useState)(""),[c,h]=(0,t.useState)(""),m=async r=>{r.preventDefault();try{let r=await fetch("http://localhost/backend/login.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,password:l}),credentials:"include"}),a=await r.json();r.ok?(h("Inicio de sesi\xf3n exitoso ✅"),n(""),localStorage.setItem("user",JSON.stringify(a.user)),setTimeout(()=>e.push("/perfil"),1e3)):n(a.message||"Credenciales incorrectas.")}catch(e){n("Error de conexi\xf3n con el servidor.")}};return(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex flex-col justify-center sm:py-12",children:(0,a.jsxs)("div",{className:"p-10 xs:p-0 mx-auto md:w-full md:max-w-md",children:[(0,a.jsx)("div",{className:"flex items-center justify-center mb-5",children:(0,a.jsx)("img",{src:"/assets/img.png",alt:"logo",width:"250",height:"200"})}),o&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"alert bg-red-100 text-red-800 border border-red-300 rounded-lg px-4 py-3",children:[(0,a.jsx)("i",{className:"fa-solid fa-circle-exclamation mr-2"})," ",o]})}),c&&(0,a.jsx)("div",{id:"toast_success",className:"toast toast-top toast-end transition-opacity",children:(0,a.jsx)("div",{className:"alert alert-success bg-green-100 text-green-800 border border-green-300 rounded-lg px-4 py-3",children:(0,a.jsx)("span",{children:c})})}),(0,a.jsxs)("form",{onSubmit:m,className:"bg-white shadow w-full rounded-lg divide-y divide-gray-200",children:[(0,a.jsxs)("div",{className:"px-5 py-7",children:[(0,a.jsxs)("label",{className:"input validator mt-5",children:[(0,a.jsx)("svg",{className:"h-[1em] opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsxs)("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2.5",fill:"none",stroke:"currentColor",children:[(0,a.jsx)("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"}),(0,a.jsx)("path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"})]})}),(0,a.jsx)("input",{type:"email",name:"email",placeholder:"mail@site.com",required:!0})]}),(0,a.jsx)("div",{className:"validator-hint hidden",children:"Enter valid email address"}),(0,a.jsxs)("label",{className:"input validator mt-5",children:[(0,a.jsx)("svg",{className:"h-[1em] opacity-50",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,a.jsxs)("g",{"stroke-linejoin":"round","stroke-linecap":"round","stroke-width":"2.5",fill:"none",stroke:"currentColor",children:[(0,a.jsx)("path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"}),(0,a.jsx)("circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor"})]})}),(0,a.jsx)("input",{type:"password",name:"password",required:!0,placeholder:"Password"})]}),(0,a.jsx)("button",{type:"submit",className:"mt-5 bg-blue-500 hover:bg-blue-600 text-white w-full py-2.5 rounded-lg shadow-md font-semibold",children:"Continuar →"})]}),(0,a.jsx)("div",{className:"p-5",children:(0,a.jsxs)("a",{href:"https://discord.com/oauth2/authorize?client_id=1385332222839488665&response_type=code&redirect_uri=https%3A%2F%2Faquafornais.store%2Fdiscord-callback.php&scope=identify+email",className:"block text-center border border-gray-200 text-gray-500 py-2.5 rounded-lg shadow-sm hover:shadow-md",children:[(0,a.jsx)("i",{className:"fa-brands fa-discord"})," Discord"]})}),(0,a.jsxs)("div",{className:"py-5 flex justify-between",children:[(0,a.jsx)("a",{href:"/register",className:"text-gray-500 hover:text-gray-700",children:"Registrarse"}),(0,a.jsx)("a",{href:"/help",className:"text-gray-500 hover:text-gray-700",children:"Help"})]})]}),(0,a.jsx)("div",{className:"py-5",children:(0,a.jsx)("a",{href:"/",className:"inline-flex items-center text-gray-500 hover:text-gray-700",children:"← Volver a aquafornais"})})]})})}},63:(e,s,r)=>{"use strict";var a=r(7260);r.o(a,"useRouter")&&r.d(s,{useRouter:function(){return a.useRouter}}),r.o(a,"useSearchParams")&&r.d(s,{useSearchParams:function(){return a.useSearchParams}})},7742:(e,s,r)=>{Promise.resolve().then(r.bind(r,17))}},e=>{e.O(0,[441,255,358],()=>e(e.s=7742)),_N_E=e.O()}]);