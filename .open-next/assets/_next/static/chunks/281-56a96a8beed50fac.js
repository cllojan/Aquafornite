"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[281],{6279:(e,s,l)=>{l.d(s,{N:()=>a});var t=l(5959),n=l(854);let a=(0,t.v)((e,s)=>({items:[],addItem:l=>{let t=s().items;if(console.log(t),t.find(e=>e.devName===l.devName))return n.P.error("\xa1Producto ya esta agregado al carrito !",{duration:3e3,position:"top-right",transition:"swingInverted",icon:"",sound:!0});e({items:[...s().items,l]}),n.P.success("\xa1Producto registrado con \xe9xito, gracias \uD83D\uDE18!",{duration:2500,position:"top-right",transition:"swingInverted",icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-thumbs-up"><path d="M7 10v12"/><path d="M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z"/></svg>',sound:!0})},removeItem:l=>{e({items:[...s().items.filter(e=>e.devName!=l)]})},removeAll:()=>e({items:[]})}))},8281:(e,s,l)=>{l.d(s,{default:()=>b});var t=l(5155),n=l(2115),a=l(2262),r=l(6279),o=l(63);function i(e){let{options:s,value:l,onChange:a}=e,[r,o]=(0,n.useState)(s[0]);return(0,t.jsxs)("div",{className:"dropdown bg-transparent",children:[(0,t.jsxs)("div",{tabIndex:0,role:"button",className:"btn m-1 bg-transparent border-none text-white",children:[r.icon," ",r.label]}),(0,t.jsx)("ul",{tabIndex:0,className:"absolute menu dropdown-content bg-base-100 rounded-box z-1 w-52 p-2 shadow-sm",children:s.map(e=>(0,t.jsx)("li",{onClick:()=>{o(e),a&&a(e)},children:(0,t.jsxs)("span",{children:[e.icon," ",e.label]})},e.id))})]})}var c=l(3598),d=l(5704);let{signIn:m,signOut:x,useSession:h}=(0,c.MB)({baseURL:d.env.BETTER_AUTH_URL,disableCSRFCheck:!1}),u=[{id:"usd",label:"DOLAR",icon:(0,t.jsx)(a.In,{icon:"emojione-v1:flag-for-united-states",fontSize:28,style:{color:"white"}})},{id:"mx",label:"MXN",icon:(0,t.jsx)(a.In,{icon:"emojione-v1:flag-for-mexico",fontSize:28,style:{color:"white"}})},{id:"sol",label:"SOL",icon:(0,t.jsx)(a.In,{icon:"emojione-v1:flag-for-peru",fontSize:28,style:{color:"white"}})}],b=()=>{let[e,s]=(0,n.useState)("corporate"),{data:l}=h();console.log(l);let{items:c,removeAll:d,removeItem:m}=(0,r.N)(),b=c.map(e=>e.discount).reduce((e,s)=>e+s,0),j=(0,o.useRouter)();(0,n.useEffect)(()=>{var s;null==(s=document.querySelector("html"))||s.setAttribute("data-theme",e)},[e]);let f=async()=>{let e=c.map(e=>{var s,l,t,n;return{name:(null==(s=e.bundle)?void 0:s.name)||(null==(l=e.brItems)?void 0:l[0].name)||(null==(t=e.tracks)?void 0:t[0].title),price:e.discount,images:null==e||null==(n=e.newDisplayAsset)?void 0:n.renderImages[0].image,quantity:1}}),s=await fetch("/api/checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e})}),{url:l}=await s.json();console.log(l),window.location.href=l},p=async()=>{try{await x(),j.push("/")}catch(e){console.error("Error",e)}};return(0,t.jsxs)("div",{className:"fixed z-1000 w-full flex flex-row items-center justify-between bg-black/10 backdrop-blur-md navbar shadow-sm px-8 z-3",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("div",{className:"flex-1 flex-row items-center justify-center mt-2",children:(0,t.jsx)("div",{className:"font-fortnite text-3xl text-white",children:"AQUAFORNAIS"})})}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i,{options:u,onChange:e=>{console.log("Pa\xeds seleccionado:",e.id)}}),(0,t.jsxs)("div",{className:"drawer drawer-end",children:[(0,t.jsx)("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle btn btn-ghost btn-circle"}),(0,t.jsx)("div",{className:"drawer-content",children:(0,t.jsx)("label",{htmlFor:"my-drawer-4",className:"drawer-button border-none btn btn-ghost hover:bg-transparent hover:border-none ",children:0===c.length?(0,t.jsx)("div",{className:" flex flex-row ",children:(0,t.jsx)(a.In,{icon:"solar:cart-large-2-outline",fontSize:28,style:{color:"white"}})}):(0,t.jsxs)("div",{className:" flex flex-row items-center",children:[(0,t.jsx)(a.In,{icon:"solar:cart-large-2-outline",fontSize:28,style:{color:"white"}}),(0,t.jsx)("span",{className:"badge badge-sm badge-secondary",children:c.length})]})})}),(0,t.jsxs)("div",{className:"top-0 right-0 h-screen drawer-side z-[1000]",children:[(0,t.jsx)("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),(0,t.jsxs)("div",{className:"menu bg-base-200 text-base-content min-h-full w-70 md:w-80 flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center p-4 border-b border-base-300",children:[(0,t.jsx)("h1",{className:"flex-1 text-lg font-semibold",children:"Carrito de compras"}),(0,t.jsx)("label",{htmlFor:"my-drawer-4",className:"btn btn-ghost btn-sm btn-circle",children:(0,t.jsx)(a.In,{icon:"solar:exit-bold",fontSize:25})})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:0===c.length?(0,t.jsxs)("div",{className:"flex flex-col justify-center gap-7 items-center h-full",children:[(0,t.jsx)(a.In,{icon:"bi:cart-x",fontSize:75}),(0,t.jsxs)("h1",{className:"text-lg text-center",children:["Carrito de compras ",(0,t.jsx)("span",{className:"text-error font-bold",children:"vac\xedo!"})]}),(0,t.jsx)("p",{className:"text-center",children:"Agrega algunos productos antes de proceder con la compra"})]}):c.map((e,s)=>{var l,n,r,o,i;return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"w-full flex flex-row gap-4",children:[(0,t.jsx)("div",{className:"size-24 shrink-0 overflow-hidden rounded-md",style:(e=>{let s=null==e?void 0:e.colors;if(!s)return{background:"#333"};let l=[];return s.color1&&l.push("#".concat(s.color1)),s.color2&&l.push("#".concat(s.color3)),{background:"linear-gradient(to bottom, ".concat(l.join(", "),")")}})(e),children:(0,t.jsx)("img",{className:"size-full object-cover",src:(null==(l=e.newDisplayAsset)?void 0:l.renderImages[0].image)||(null==(n=e.tracks[0])?void 0:n.albumArt),alt:""})}),(0,t.jsxs)("div",{className:"flex flex-1 flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between font-medium",children:[(0,t.jsx)("h3",{className:"text-sm line-clamp-2",children:(null==e||null==(r=e.bundle)?void 0:r.name)||(null==(o=e.brItems)?void 0:o[0].name)||(null==(i=e.tracks)?void 0:i[0].title)}),(0,t.jsxs)("p",{className:"ml-4 whitespace-nowrap",children:["$",e.discount]})]}),(0,t.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm mt-2",children:[(0,t.jsx)("p",{className:"text-gray-500"}),(0,t.jsx)("span",{className:"group cursor-pointer",onClick:()=>m(e.devName),children:(0,t.jsx)(a.In,{className:"group-hover:text-error transition-colors",icon:"solar:trash-bin-2-bold",fontSize:25})})]})]})]}),s<c.length-1&&(0,t.jsx)("div",{className:"divider my-2"})]},s)})}),c.length>0&&(0,t.jsxs)("div",{className:"border-t border-base-300 p-4 bg-base-200",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-sm text-base-content/70",children:"Art\xedculos:"}),(0,t.jsxs)("span",{className:"font-semibold",children:[c.length," skins"]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-lg font-bold",children:"Total:"}),(0,t.jsxs)("span",{className:"text-lg font-bold text-info",children:["$",b.toFixed(2)]})]})]}),(0,t.jsxs)("button",{className:"btn btn-success btn-block gap-2",onClick:f,children:["Comprar",(0,t.jsx)(a.In,{icon:"solar:wallet-money-bold",fontSize:22})]})]})]})]})]}),(null==l?void 0:l.user)?(0,t.jsxs)("div",{className:" dropdown dropdown-end",children:[(0,t.jsx)("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:(0,t.jsx)("div",{className:"w-10 rounded-full flex items-center",children:(0,t.jsx)("img",{alt:"Tailwind CSS Navbar component",src:"https://img.daisyui.com/images/stock/photo-1534528741775-53994a69daeb.webp"})})}),(0,t.jsxs)("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-1 mt-3 w-52 p-2 shadow",children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{className:"justify-between",href:"/perfil",children:"Perfil"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:()=>s("corporate"===e?"dark":"corporate"),children:"Dark/Light"})}),(0,t.jsx)("li",{children:(0,t.jsx)("button",{onClick:p,children:"Cerrar Sesion"})})]})]}):(0,t.jsx)("div",{className:" dropdown dropdown-end",children:(0,t.jsx)("a",{href:"/auth",className:"btn btn-primary m-0 p-0 w-30 ",children:"Iniciar Sesi\xf3n"})})]})]})}}}]);